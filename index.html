<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Digital Signage mit Intro</title>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: 'Open Sans', sans-serif;
      overflow: hidden;
      background-color: #0f2c5c;
    }

    body.intro-mode {
      display: flex;
      flex-direction: column;
    }

    #intro-top {
      flex: 8;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(to bottom, #4a90e2 0%, #0b1f3d 100%); /* Helleres Blau oben, dunkleres Blau unten */
    }

    #intro-bottom {
      flex: 2;
      background-color: #0b1f3d;
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 3em;
      text-align: center;
      font-weight: bold;
    }

    iframe {
      width: 100%;
      height: 100%;
      border: none;
      display: none;
    }

    body.active iframe {
      display: block;
    }

    #intro-top img {
      width: 70%;
      height: auto;
      filter: grayscale(100%) sepia(100%) hue-rotate(180deg); /* Bildfarbe ändern */
    }

    /* Animationsstil für den Intro-Text */
    .intro-text {
      opacity: 0;
      transform: translateY(20px);  /* Der Text startet leicht unterhalb seiner Endposition */
      animation: zoomIn 2s ease-out forwards; /* Langsames Einzoomen des Textes */
    }

    @keyframes zoomIn {
      0% {
        opacity: 0;
        transform: translateY(20px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>
<body class="intro-mode">

<div id="intro-top">
  <!-- PNG Weltkarte von Pixabay -->
  <img src="https://cdn.pixabay.com/photo/2014/04/02/14/09/world-map-306338_1280.png" alt="Weltkarte">
</div>
<div id="intro-bottom">
  <div class="intro-text">Die wichtigsten Nachrichten in 130&nbsp;Sekunden</div>
</div>
<iframe id="signageFrame"></iframe>

<script>
  const pages = [
    { url: "https://dnsvlpt.github.io/wartezimmer-news/News.html", duration: 100 },
    { url: "https://www.meteoblue.com/de/meteotv/8c0192", duration: 20 },
    { url: "https://www.efa-bw.de/rtMonitor/XSLT_DM_REQUEST?itdLPxx_banner=mobidatabw.png&itdLPxx_branding=mobidatabw&locationServerActive=1&stateless=1&sRaLP=1&itdLPxx_generalInfo=false&mode=direct&type_dm=timedNode&stopID_dm=7001818&stopID_dm=7008408&name_dm=Bus/Bahn&itdLPxx_hint=false&itdLPxx_platform=false&itdLPxx_stopname=false&itdLPxx_useRealtime=true", duration: 15 }
  ];

  let currentIndex = 0;
  const frame = document.getElementById("signageFrame");

  function showNextPage() {
    const page = pages[currentIndex];
    frame.src = page.url;
    setTimeout(() => {
      currentIndex = (currentIndex + 1) % pages.length;
      showNextPage();
    }, page.duration * 1000);
  }

  setTimeout(() => {
    document.body.classList.remove("intro-mode");
    document.body.classList.add("active");
    document.getElementById("intro-top").remove();
    document.getElementById("intro-bottom").remove();
    showNextPage();
  }, 5000);
</script>

</body>
</html>
